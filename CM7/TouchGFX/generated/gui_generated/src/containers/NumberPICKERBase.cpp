/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/containers/NumberPICKERBase.hpp>
#include <images/BitmapDatabase.hpp>

NumberPICKERBase::NumberPICKERBase() :
    updateItemCallback(this, &NumberPICKERBase::updateItemCallbackHandler)
{
    setWidth(72);
    setHeight(120);
    background.setXY(-1, 0);
    background.setBitmap(touchgfx::Bitmap(BITMAP_NUMBER_SELECT_ID));
    add(background);

    numberScrollWheel.setPosition(7, 0, 60, 120);
    numberScrollWheel.setHorizontal(false);
    numberScrollWheel.setCircular(true);
    numberScrollWheel.setEasingEquation(touchgfx::EasingEquations::backEaseOut);
    numberScrollWheel.setSwipeAcceleration(200);
    numberScrollWheel.setDragAcceleration(10);
    numberScrollWheel.setNumberOfItems(256);
    numberScrollWheel.setSelectedItemOffset(45);
    numberScrollWheel.setOvershootPercentage(0);
    numberScrollWheel.setSelectedItemExtraSize(0, 0);
    numberScrollWheel.setSelectedItemMargin(0, 0);
    numberScrollWheel.setDrawableSize(30, 0);
    numberScrollWheel.setDrawables(numberScrollWheelListItems, updateItemCallback,
    
                          numberScrollWheelSelectedListItems, updateItemCallback);
    numberScrollWheel.animateToItem(0, 0);
    add(numberScrollWheel);
}

NumberPICKERBase::~NumberPICKERBase()
{

}

void NumberPICKERBase::initialize()
{
    numberScrollWheel.initialize();
    for (int i = 0; i < numberScrollWheelListItems.getNumberOfDrawables(); i++)
    {
        numberScrollWheelListItems[i].initialize();
    }
    for (int i = 0; i < numberScrollWheelSelectedListItems.getNumberOfDrawables(); i++)
    {
        numberScrollWheelSelectedListItems[i].initialize();
    }
}

void NumberPICKERBase::updateItemCallbackHandler(touchgfx::DrawableListItemsInterface* items, int16_t containerIndex, int16_t itemIndex)
{
    if (items == &numberScrollWheelListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        numberTemplateScrollCustomContainer* cc = (numberTemplateScrollCustomContainer*)d;
        numberScrollWheelUpdateItem(*cc, itemIndex);
    }
    if (items == &numberScrollWheelSelectedListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        numberTemplateScrollCustomContainer* cc = (numberTemplateScrollCustomContainer*)d;
        numberScrollWheelUpdateCenterItem(*cc, itemIndex);
    }
}
